var submit=$('[type="submit"]'),usernameErro=$(".username-erroTips"),pwdErro=$(".pwd-erroTips"),passCheckErro=$(".pwdCheck-erroTips"),user=!1;$('[name="username"]').blur(function(){var r=$(this).val();-1!=r.indexOf("@")?/^[1-9]\d{5,9}@(qq|163|sina)\.com$/.test(r)?user=!0:(usernameErro.html("邮箱格式有误").show(300,"linear").delay(3e3).hide(300,"linear"),user=!1,this.focus()):/^[0-9A-Za-z]\w{3,11}$/.test(r)?user=!0:r.length<4?(usernameErro.show(300,"linear").html("请输入正确4-12字符").delay(3e3).hide(300,"linear"),this.focus(),user=!1):/^\d{4,10}$/.test(r)&&(usernameErro.show(300,"linear").html("登录账号不能全为数字").delay(3e3).hide(300,"linear"),this.focus(),user=!1)});var pwd1=!1;$("#inputPassword3").blur(function(){var r=$(this).val();if(/^\w{6,16}$/.test(r)){for(var e=0,s=0,a=0,o=0,t=0;t<r.length;t++)"0"<=r[t]&&r[t]<="9"?e=1:"a"<=r[t]&&r[t]<="z"?s=1:"A"<=r[t]&&r[t]<="Z"?a=1:o=1;e+s+a+o==1?pwdErro.html("弱"):e+s+a+o==2?pwdErro.html("中"):pwdErro.html("强"),pwd1=!0}else pwdErro.html("请输入正确6-16密码").show(300,"linear").delay(3e3).hide(300,"linear"),this.focus(),pwd1=!1});var pwd2=!1;$("#checkPassword3").blur(function(){$(this).val();pwd2=$("#checkPassword3").val()==$("#inputPassword3").val()||($(".alert-danger").html("两次输入的密码不一致").show(300,"linear").delay(3e3).hide(300,"linear"),$(".error").css("display","block"),this.focus(),!1)}),submit.attr("disabled",!1),submit.css("background-color","#ccc"),$("#gridCheck1").click(function(){$("#gridCheck1").is(":checked")?(submit.attr("disabled",!1),submit.css("background-color","#ffc107")):(submit.attr("disabled",!0),submit.css("background-color","#ccc"))});var search=location.search;submit.click(function(){if(user&&pwd1&&pwd2){var e=$('[name="username"]').val(),r=$("#inputPassword3").val();return console.log(1111),$.post("../php/register.php",{username:e,password:r},function(r){return console.log(r),1!=r?(alert("注册失败"),!1):(search?(r=search.split("=")[1],location.href=r,console.log(r)):location.href="./list.html",setCookie("user",e),!0)},"json"),!1}return $('[name="username"]').blur(),$("#inputPassword3").blur(),$("#checkPassword3").blur(),!1});